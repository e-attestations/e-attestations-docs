(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{108:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return c})),n.d(t,"rightToc",(function(){return s})),n.d(t,"default",(function(){return p}));var a=n(2),r=n(6),i=(n(0),n(119)),o={id:"c-2-thirdparties",title:"Thirdparties",sidebar_label:"Thirdparties"},c={unversionedId:"c-2-thirdparties",id:"c-2-thirdparties",isDocsHomePage:!1,title:"Thirdparties",description:"This resource is 'third party', the 'supplier', the 'subcontractor', the 'contractant' etc.",source:"@site/docs/c-2-thirdparties.mdx",slug:"/c-2-thirdparties",permalink:"/docs/c-2-thirdparties",editUrl:"https://github.com/e-attestations/e-attestations-docs/tree/master/docs/c-2-thirdparties.mdx",version:"current",sidebar_label:"Thirdparties",sidebar:"docs",previous:{title:"Account",permalink:"/docs/c-1-account"},next:{title:"Dossiers",permalink:"/docs/c-3-dossiers"}},s=[{value:"Using advanced search queries",id:"using-advanced-search-queries",children:[{value:"Using more than on criteria and combine them with &#39;AND&#39; and &#39;OR&#39;",id:"using-more-than-on-criteria-and-combine-them-with-and-and-or",children:[]}]}],l={rightToc:s};function p(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"This resource is 'third party', the 'supplier', the 'subcontractor', the 'contractant' etc. "),Object(i.b)("p",null,"It's the main resource of the continuous evaluation as part of its compliance, according to the subscription and / or the options of the e-Attestations account."),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"Example GET request for ",Object(i.b)("inlineCode",{parentName:"p"},"/api/v1/account/{{account_id}}/thirdparties?siret=50382936800045"))),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n    "content": [\n        {\n            "thirdpartyId": 875,\n            "companyIdType": "CIT001",\n            "companyIdValue": "50382936800045",\n            "thirdpartyCode": "123",\n            "siren": "503829368",\n            "siret": "50382936800045",\n            "tva": "FR69503829368",\n            "name": "E-ATTESTATIONS.COM",\n            "dateCreation": "2010-11-24",\n            "legalCategoryLabel": "Soci\xe9t\xe9 par actions simplifi\xe9e",\n            "legalCategoryCode": "5710",\n            "acronym": null,\n            "activityLabel": "Edition de logiciels applicatifs",\n            "activityCode": "5829C",\n            "ceo": "POIDEVIN Emmanuel",\n            "capital": 3642000,\n            "capitalCurrency": "EUR",\n            "turnover": 2771996.0,\n            "turnoverCurrency": "EUR",\n            "lastBalanceSheetDate": "2017-12-31",\n            "workforce": 13,\n            "addressCity": "MASSY",\n            "addressPostCode": "91300",\n            "addressCountryCode": "FR"\n        }\n    ],\n    "page": 0,\n    "size": 10,\n    "totalElements": 1\n}\n')),Object(i.b)("h2",{id:"using-advanced-search-queries"},"Using advanced search queries"),Object(i.b)("p",null,"You can request thirdparties details with a query search criteria parameter."),Object(i.b)("p",null,"This is a very powerful and flexible search tool."),Object(i.b)("p",null,"The general form for this search is :"),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"q?search=<your criteria>")),Object(i.b)("p",null,"The criteria is/are composed of :"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"a field name that as one of types : string, date or a numeric (but not a boolean)"),Object(i.b)("li",{parentName:"ul"},"an operator which could be either :",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},":")," : equals"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"~")," : contains/like"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"!")," : not equals"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},">")," : greater than"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"<")," : less than"))),Object(i.b)("li",{parentName:"ul"},"a value to search for")),Object(i.b)("p",null,"Example of request and response:"),Object(i.b)("p",null,"The query"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"curl --location --request GET '{{ea_api_serv}}/api/v1/account/{{account_id}}/thirdparties/q?search=name~ATTESTATIONS' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer <access_token>'\n")),Object(i.b)("p",null,"The result"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n    "content": [\n        {\n            "thirdpartyId": 875,\n            "accountId": xxxxx,\n            "companyIdType": "CIT001",\n            "siret": "50382936800045",\n            "siren": "503829368",\n            "tva": "FR69503829368",\n            "dateCreation": "2010-11-24",\n            "legalCategoryLabel": "Soci\xe9t\xe9 par actions simplifi\xe9e",\n            "legalCategoryCode": "5710",\n            "acronym": null,\n            "activityLabel": "Edition de logiciels applicatifs",\n            "activityCode": "5829C",\n            "ceo": "POIDEVIN Emmanuel",\n            "capital": 3642000,\n            "capitalCurrency": "EUR",\n            "turnover": 2771996.0,\n            "turnoverCurrency": "EUR",\n            "lastBalanceSheetDate": "2017-12-31T00:00:00.000",\n            "workforce": 13,\n            "companyIdValue": "50382936800045",\n            "thirdpartyCode": "123",\n            "monitored": true,\n            "isMonitored": "true",\n            "name": "E-ATTESTATIONS.COM",\n            "addressStreet": "1 rue ANONYME",\n            "addressCity": "MASSY",\n            "addressPostCode": "91300",\n            "addressCountryCode": "FR",\n            "registered": true,\n            "isRegistered": "true",\n            "registrationDate": "2010-11-24",\n            "active": true,\n            "isActive": "true",\n            "outOfBusiness": false,\n            "isOutOfBusiness": "false",\n            "stateLastChangeDate": "2019-01-08",\n            "complete": false,\n            "isComplete": "false",\n            "thirdpartyUsers": [\n                {\n                    "firstName": "Jojo",\n                    "lastName": "Jojo",\n                    "email": "jojo@test.com",\n                    "phone": "+33 1 01 01 01 01"\n                },\n                {\n                    "firstName": "Pr\xe9nom_259976",\n                    "lastName": "Nom_259976",\n                    "email": "259976@e-attestations.com",\n                    "phone": "+33101010101"\n                },\n                {\n                    "firstName": "Toto",\n                    "lastName": "Toto",\n                    "email": "toto@gmail.com",\n                    "phone": "+33 1 01 01 01 01"\n                },\n                {\n                    "firstName": "Pr\xe9nom_502408",\n                    "lastName": "Nom_502408",\n                    "email": "502408@e-attestations.com",\n                    "phone": "+33101010101"\n                },\n                {\n                    "firstName": "Pr\xe9nom_141152",\n                    "lastName": "Nom_141152",\n                    "email": "141152@e-attestations.com",\n                    "phone": "+33101010101"\n                },\n                {\n                    "firstName": "A",\n                    "lastName": "Aa",\n                    "email": "aaa@gmail.com",\n                    "phone": "+33 1 01 01 01 01"\n                },\n                {\n                    "firstName": "Pr\xe9nom_3241",\n                    "lastName": "Nom_3241",\n                    "email": "3241@e-attestations.com",\n                    "phone": "+33 1 01 01 01 01"\n                },\n                {\n                    "firstName": "Pr\xe9nom_35695",\n                    "lastName": "Nom_35695",\n                    "email": "35695@e-attestations.com",\n                    "phone": "+33101010101"\n                }\n            ]\n        }\n    ],\n    "page": 0,\n    "size": 10,\n    "totalElements": 1\n}\n')),Object(i.b)("p",null,"The request can be done on any field/attributes of thirdparty details :"),Object(i.b)("p",null,"Another exemple on workforce which is a integer and can be use with ",Object(i.b)("inlineCode",{parentName:"p"},"<")," : "),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-http"}),"{{ea_api_serv}}/api/v1/account/{{account_id}}/thirdparties/q?search=workforce<2000\n")),Object(i.b)("h3",{id:"using-more-than-on-criteria-and-combine-them-with-and-and-or"},"Using more than on criteria and combine them with 'AND' and 'OR'"),Object(i.b)("p",null,"With this feature you can request ",Object(i.b)("strong",{parentName:"p"},"thirdparties details")," by a composition of search criteria composed with the help of AND/and, OR/or with parenthesis."),Object(i.b)("p",null,"The general form for this search is :"),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"q?search=( <first criteria> <AND|OR> <second criteria> )")),Object(i.b)("p",null,"or "),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"q?search=( <first criteria> <AND|OR> <second criteria> ) <AND|OR> <third criteria>")),Object(i.b)("p",null,"Note that you can use per criteria :"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"'AND' or 'and' for the AND operator"),Object(i.b)("li",{parentName:"ul"},"'OR' or 'or' for the OR operator")),Object(i.b)("p",null,"Note the parenthesis need a space after and before it in order to let the search engine to find the criteria token."),Object(i.b)("p",null,"Example : "),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Requesting thirdparties with workforce > 200 and are active OR workforce < 2 :")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-http"}),"{{ea_api_serv}}/api/v1/account/{{account_id}}/thirdparties/q?search=( workforce>200 AND isActive:true ) OR workforce<2\n")),Object(i.b)("p",null,"With curl :"),Object(i.b)("p",null,"Notice then encoded characters for spaces and operators"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"curl '{{ea_api_serv}}/api/v1/account/{{account_id}}/thirdparties/q?search=(%20workforce%3E200%20AND%20isActive:true%20)%20OR%20workforce%3C2' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer <your access_token>'\n")))}p.isMDXComponent=!0},119:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m}));var a=n(0),r=n.n(a);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=r.a.createContext({}),p=function(e){var t=r.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},u=function(e){var t=p(e.components);return r.a.createElement(l.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},d=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,o=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),u=p(n),d=a,m=u["".concat(o,".").concat(d)]||u[d]||b[d]||i;return n?r.a.createElement(m,c(c({ref:t},l),{},{components:n})):r.a.createElement(m,c({ref:t},l))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=d;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:a,o[1]=c;for(var l=2;l<i;l++)o[l]=n[l];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);